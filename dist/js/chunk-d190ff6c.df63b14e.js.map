{"version":3,"sources":["webpack:///./src/views/personal/personal.vue?7957","webpack:///./src/views/personal/personal.vue?8bc8","webpack:///src/views/personal/personal.vue","webpack:///./src/views/personal/personal.vue?34e0","webpack:///./src/views/personal/personal.vue"],"names":["_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_5_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_5_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_personal_vue_vue_type_style_index_0_id_79dfb566_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_5_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_5_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_personal_vue_vue_type_style_index_0_id_79dfb566_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","model","form","label-width","span","label","value","callback","$$v","$set","expression","type","action","before-upload","handleBeforeUpload","list-type","data","uploadData","on-success","handleAvatarSuccess","on-preview","handlePictureCardPreview","on-remove","handleRemove","visible","dialogVisible","on","update:visible","$event","width","src","dialogImageUrl","alt","placeholder","nativeOn","click","editSubmit","_v","staticRenderFns","personalvue_type_script_lang_js_","name","job_number","gender","password","mailbox","phone","id","imageUrl","methods","Object","objectSpread","_this","$refs","validate","valid","$confirm","then","para","assign_default","api","res","$message","message","resetFields","getPersonal","_this2","auth","console","log","dataPersonal","file","fileList","url","URL","createObjectURL","raw","setAvatar","reader","FileReader","readAsDataURL","onloadend","e","result","vuex_esm","mounted","personal_personalvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"kHAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAunBE,EAAG,mECA1nB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA4B,CAAAF,EAAA,WAAgBG,IAAA,OAAAC,MAAA,CAAkBC,MAAAT,EAAAU,KAAAC,cAAA,SAAuC,CAAAP,EAAA,UAAeI,MAAA,CAAOI,KAAA,KAAW,CAAAR,EAAA,gBAAqBI,MAAA,CAAOK,MAAA,SAAgB,CAAAT,EAAA,YAAiBK,MAAA,CAAOK,MAAAd,EAAAU,KAAA,KAAAK,SAAA,SAAAC,GAA+ChB,EAAAiB,KAAAjB,EAAAU,KAAA,OAAAM,IAAgCE,WAAA,gBAAyB,GAAAd,EAAA,gBAAyBI,MAAA,CAAOK,MAAA,SAAgB,CAAAT,EAAA,YAAiBI,MAAA,CAAOW,KAAA,YAAkBV,MAAA,CAAQK,MAAAd,EAAAU,KAAA,SAAAK,SAAA,SAAAC,GAAmDhB,EAAAiB,KAAAjB,EAAAU,KAAA,WAAAM,IAAoCE,WAAA,oBAA6B,GAAAd,EAAA,gBAAyBI,MAAA,CAAOK,MAAA,SAAgB,CAAAT,EAAA,YAAiBI,MAAA,CAAOW,KAAA,UAAgBV,MAAA,CAAQK,MAAAd,EAAAU,KAAA,WAAAK,SAAA,SAAAC,GAAqDhB,EAAAiB,KAAAjB,EAAAU,KAAA,aAAAM,IAAsCE,WAAA,sBAA+B,GAAAd,EAAA,gBAAyBI,MAAA,CAAOK,MAAA,SAAgB,CAAAT,EAAA,aAAkBI,MAAA,CAAOY,OAAApB,EAAAoB,OAAAC,gBAAArB,EAAAsB,mBAAAC,YAAA,UAAAC,KAAAxB,EAAAyB,WAAAC,aAAA1B,EAAA2B,oBAAAC,aAAA5B,EAAA6B,yBAAAC,YAAA9B,EAAA+B,eAAoN,CAAA3B,EAAA,KAAUE,YAAA,mBAA2BF,EAAA,aAAoBI,MAAA,CAAOwB,QAAAhC,EAAAiC,eAA4BC,GAAA,CAAKC,iBAAA,SAAAC,GAAkCpC,EAAAiC,cAAAG,KAA2B,CAAApC,EAAA,SAAAI,EAAA,OAA2BE,YAAA,SAAAE,MAAA,CAA4B6B,MAAA,OAAAC,IAAAtC,EAAAuC,eAAAC,IAAA,MAAkDpC,EAAA,KAAUE,YAAA,yCAAgD,GAAAF,EAAA,gBAA2BI,MAAA,CAAOK,MAAA,SAAgB,CAAAT,EAAA,aAAkBI,MAAA,CAAOiC,YAAA,SAAsBhC,MAAA,CAAQK,MAAAd,EAAAU,KAAA,OAAAK,SAAA,SAAAC,GAAiDhB,EAAAiB,KAAAjB,EAAAU,KAAA,SAAAM,IAAkCE,WAAA,gBAA2B,CAAAd,EAAA,aAAkBI,MAAA,CAAOK,MAAA,IAAAC,MAAA,OAAyBV,EAAA,aAAkBI,MAAA,CAAOK,MAAA,IAAAC,MAAA,QAAyB,OAAAV,EAAA,gBAA6BI,MAAA,CAAOK,MAAA,SAAgB,CAAAT,EAAA,YAAiBI,MAAA,CAAOW,KAAA,SAAeV,MAAA,CAAQK,MAAAd,EAAAU,KAAA,QAAAK,SAAA,SAAAC,GAAkDhB,EAAAiB,KAAAjB,EAAAU,KAAA,UAAAM,IAAmCE,WAAA,mBAA4B,GAAAd,EAAA,gBAAyBI,MAAA,CAAOK,MAAA,SAAgB,CAAAT,EAAA,YAAiBI,MAAA,CAAOW,KAAA,UAAgBV,MAAA,CAAQK,MAAAd,EAAAU,KAAA,MAAAK,SAAA,SAAAC,GAAgDhB,EAAAiB,KAAAjB,EAAAU,KAAA,QAAAM,IAAiCE,WAAA,iBAA0B,GAAAd,EAAA,gBAAAA,EAAA,aAAyCI,MAAA,CAAOW,KAAA,WAAiBuB,SAAA,CAAWC,MAAA,SAAAP,GAAyB,OAAApC,EAAA4C,WAAAR,MAAgC,CAAApC,EAAA6C,GAAA,QAAAzC,EAAA,aAAAJ,EAAA6C,GAAA,yBACzwEC,EAAA,wECgDAC,EAAA,CACAvB,KADA,WAEA,OACAd,KAAA,CACAsC,KAAA,GACAC,WAAA,GACAC,OAAA,GACAC,SAAA,GACAC,QAAA,GACAC,MAAA,GACAC,GAAA,IAEAlC,OAAA,oBACAmB,eAAA,GACAN,eAAA,EACAsB,SAAA,GACA9B,WAAA,CAGA6B,GAAA,MAIAE,QAAAC,OAAAC,EAAA,KAAAD,CAAA,CACAb,WADA,WACA,IAAAe,EAAA1D,KACAA,KAAA2D,MAAAlD,KAAAmD,SAAA,SAAAC,GACAA,GACAH,EAAAI,SAAA,kBAAAC,KAAA,WACA,IAAAC,EAAAC,IAAA,GAAAP,EAAAjD,MACA+C,OAAAU,EAAA,KAAAV,CAAAQ,GAAAD,KAAA,SAAAI,GACAT,EAAAU,SAAA,CACAC,QAAA,OACAnD,KAAA,YAEAwC,EAAAC,MAAA,QAAAW,cACAZ,EAAAa,qBAMAA,YAlBA,WAkBA,IAAAC,EAAAxE,KACAgE,EAAA,CACAhB,WAAAQ,OAAAiB,EAAA,KAAAjB,IAEAA,OAAAU,EAAA,KAAAV,CAAAQ,GAAAD,KAAA,SAAAI,GACAO,QAAAC,IAAAR,GACAK,EAAA/D,KAAA0D,EAAAS,aACAJ,EAAAhD,WAAA6B,GAAAmB,EAAA/D,KAAA4C,MAGAvB,aA5BA,SA4BA+C,EAAAC,GACAJ,QAAAC,IAAAE,EAAAC,IAEAlD,yBA/BA,SA+BAiD,GACA7E,KAAAsC,eAAAuC,EAAAE,IACA/E,KAAAgC,eAAA,EACA0C,QAAAC,IAAA3E,KAAAsC,iBAEAZ,oBApCA,SAoCAyC,EAAAU,GACA7E,KAAAsD,SAAA0B,IAAAC,gBAAAJ,EAAAK,KACAlF,KAAAmF,UAAAhB,IAGA9C,mBAzCA,SAyCAwD,GACA,IAAAO,EAAA,IAAAC,WACAD,EAAAE,cAAAT,GACAO,EAAAG,UAAA,SAAAC,GACAX,EAAAE,IAAAK,EAAAK,UAQAjC,OAAAkC,EAAA,KAAAlC,CAAA,CACA,UACA,WACA,cACA,aACA,UACA,eAIAmC,QAtFA,WAuFA3F,KAAAuE,gBCxIqcqB,EAAA,0BCQrcC,EAAgBrC,OAAAsC,EAAA,KAAAtC,CACdoC,EACA9F,EACA+C,GACF,EACA,KACA,WACA,MAIekD,EAAA,WAAAF","file":"js/chunk-d190ff6c.df63b14e.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--5-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./personal.vue?vue&type=style&index=0&id=79dfb566&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--5-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./personal.vue?vue&type=style&index=0&id=79dfb566&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-col',{attrs:{\"span\":14}},[_c('el-form-item',{attrs:{\"label\":\"用户姓名\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户密码\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户工号\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.form.job_number),callback:function ($$v) {_vm.$set(_vm.form, \"job_number\", $$v)},expression:\"form.job_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户头像\"}},[_c('el-upload',{attrs:{\"action\":_vm.action,\"before-upload\":_vm.handleBeforeUpload,\"list-type\":\"picture\",\"data\":_vm.uploadData,\"on-success\":_vm.handleAvatarSuccess,\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"用户性别\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择性别\"},model:{value:(_vm.form.gender),callback:function ($$v) {_vm.$set(_vm.form, \"gender\", $$v)},expression:\"form.gender\"}},[_c('el-option',{attrs:{\"label\":\"女\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"男\",\"value\":\"1\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"用户邮箱\"}},[_c('el-input',{attrs:{\"type\":\"email\"},model:{value:(_vm.form.mailbox),callback:function ($$v) {_vm.$set(_vm.form, \"mailbox\", $$v)},expression:\"form.mailbox\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号码\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.editSubmit($event)}}},[_vm._v(\"完成\")]),_c('el-button',[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-container\">\n    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n        <el-col :span=\"14\">\n            <el-form-item label=\"用户姓名\">\n                <el-input v-model=\"form.name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"用户密码\">\n                <el-input v-model=\"form.password\"  type=\"password\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"用户工号\">\n                <el-input v-model=\"form.job_number\"  type=\"number\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"用户头像\">\n                <el-upload :action= action :before-upload=\"handleBeforeUpload\"  list-type=\"picture\" :data='uploadData' :on-success=\"handleAvatarSuccess\" :on-preview=\"handlePictureCardPreview\" :on-remove=\"handleRemove\">\n                    <i class=\"el-icon-plus\"></i>\n                </el-upload>\n                <el-dialog :visible.sync=\"dialogVisible\">\n                    <img v-if=\"imageUrl\" width=\"100%\" :src=\"dialogImageUrl\" class=\"avatar\" alt>\n                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                </el-dialog>\n            </el-form-item>\n            \n            <el-form-item label=\"用户性别\">\n                <el-select v-model=\"form.gender\" placeholder=\"请选择性别\">\n                    <el-option label=\"女\" value=\"0\"></el-option>\n                    <el-option label=\"男\" value=\"1\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"用户邮箱\">\n                <el-input v-model=\"form.mailbox\" type=\"email\"></el-input>\n            </el-form-item>\n\n            <el-form-item label=\"手机号码\">\n                <el-input v-model=\"form.phone\" type=\"number\"></el-input>\n            </el-form-item>\n             <el-form-item>\n                <el-button type=\"primary\" @click.native=\"editSubmit\">完成</el-button>\n                <el-button>取消</el-button>\n            </el-form-item>\n        </el-col>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { getToken } from '@/utils/auth'\nimport { personal, editPersonal } from '@/api/api'\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  data() {\n    return {\n        form: {\n          name: '',\n          job_number: '',\n          gender: '',\n          password: '',\n          mailbox: '',         \n          phone: '',\n          id:''\n        },\n        action:'api/admin/postImg',\n        dialogImageUrl: '',\n        dialogVisible: false,\n        imageUrl: '',\n        uploadData:{\n            // url: '', // 图片二进制的data的url\n            // articleId: '', // 这个详情的ID 后台与他绑在一起，\n            id:''\n        }\n    }\n  },\n  methods: {\n    editSubmit() {\n        this.$refs.form.validate((valid) => {                  \n            if (valid) {\n              this.$confirm('确认提交吗？', '提示', {}).then(() => {\n                let para = Object.assign({}, this.form);\n                editPersonal(para).then((res) => {\n                  this.$message({\n                    message: '提交成功',\n                    type: 'success'\n                  });\n                  this.$refs['form'].resetFields();\n                  this.getPersonal();\n                });\n              });\n            }\n          });\n    },\n    getPersonal(){\n        let para = {\n            job_number : getToken()\n        }\n        personal(para).then((res)=>{\n            console.log(res)\n            this.form = res.dataPersonal\n            this.uploadData.id = this.form.id\n        })\n    },\n     handleRemove(file, fileList) {\n        console.log(file, fileList);\n      },\n      handlePictureCardPreview(file) {\n        this.dialogImageUrl = file.url;\n        this.dialogVisible = true;\n        console.log(this.dialogImageUrl)\n      },\n      handleAvatarSuccess(res, file) {\n        this.imageUrl = URL.createObjectURL(file.raw);\n        this.setAvatar(res)\n        \n      },\n      handleBeforeUpload(file){\n        let reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onloadend = (e)=> {\n            file.url = reader.result;\n            // this.uploadData.articleId = this.form.id; \n            // this.uploadData.url = file.url;\n            // this.uploadData.id = this.form.id\n            // console.log(this.uploadData)\n        }\n        \n      },\n       ...mapActions([\n        'addMenu',\n        'addCount',\n        'addUserinfo',\n        'loadRoutes',\n        'setName',\n        'setAvatar'\n      ])\n\n  },\n  mounted() {\n    this.getPersonal();\n  },\n};\n</script>\n<style scoped>\n.el-select{\n width: 100%;\n}\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./personal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./personal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./personal.vue?vue&type=template&id=79dfb566&scoped=true&\"\nimport script from \"./personal.vue?vue&type=script&lang=js&\"\nexport * from \"./personal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./personal.vue?vue&type=style&index=0&id=79dfb566&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79dfb566\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}